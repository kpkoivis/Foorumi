<div ng-if="userLoggedIn">
    <div class="page-header">
        <h1>{{topic.name}}</h1>
    </div>

    <p>
        {{topic.description}}
    </p>


    <h2>{{topic.Messages.length}}
        <ng-pluralize count="topic.Messages.length" when="{'1': ' viesti',
                      'other': ' viestiä'}">
    </h2>


    <ul class="media-list">
        <li class="media" ng-repeat="message in topic.Messages">
            <div class="media-body">
                <h4 class="media-heading">
                    <a href="#/messages/{{message.id}}">{{message.title}}</a>
                </h4>

                <p>
                    {{message.content}}
                </p>

                <p class="text-muted">
                    {{message.User.username}}, {{message.createdAt| date:'dd.MM.yyyy HH:mm'}}
                </p>
            </div>
        </li>
    </ul>

    <h2>Lisää oma viestisi</h2>

    <form>
        <div class="form-group">
            <label>Otsikko</label>
            <input type="text" class="form-control" ng-model="newMessage.title">
        </div>

        <div class="form-group">
            <label>Viesti</label>
            <textarea class="form-control" ng-model="newMessage.content"></textarea>
        </div>
        <button class="btn btn-success" ng-click="addNewMessage()">Lisää viesti</button>
    </form>
</div>